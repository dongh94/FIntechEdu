# 보안인증 & 블록체인

## 1. 본인인증 개념 및 종류

#### 1-1. 신원확인 (Identification) 의 개념

* 신원확인
  * 금융실명법 실명확인
    * 금융회사와 금융거리 시 실지명의를 확인하는 것 (단, 개인 거래 제외
    * 성명 및 주민등록번호
    * 성명 및 여권번호
  * 정보통신망법 본인확인
    * 온라인을 통해 고객 본인 확인이 필요한 경우 본인확인기관의 본인확인 서비스를 이용하여 본인을 확인하는 것.
* 본인확인기관
  * 이동통신사
  * 아이핀사업자
  * 인증기관

#### 1-2. 인증의 개념

* 인증
  * 어떠한 문서나 행위가 정당한 절차로 이루어졌다는 것을 공적 기관이 증명하는 것
  * 네트워크, 서버 접속 시 본인여부와 정규 이용자 여부를 확인하는 것.
  * 사용자 권한에 따라 응용소프트웨어 이용
* 본인인증
  * 개인신용정보 전송요구의 정당성을 확인하기 위한 것.
* 신용정보법의 본인인증
  * 정보제공자(금융회사 등)는 안전한 개인신용정보 전송을 위해 고객이 개인신용정보 전송 요구시 반드시 본인 인증을 수행 
* 전자서명법의 인증
  * 전자서명인증, 인증서, 전자서명인증업무 등
  * 다양한 신기술 전자서명수단 활성화 및 국민선택권 확대 (2020년 12월 10일 시행)

#### 1-3. 보안인증의 종류와 특징

* 보안인증
  * 인터넷 뱅킹, 사이트 로그인 시 아이디와 비밀번호를 통해 접속 및 사용 허가 여부 확인 및 증명하는 일
  * 신원확인, 인증을 위해 확인 되는 보안 기술, 보안 절차 등으로 명명
* 지식기반 인증
  * 인증이 간평하고 편리하지만 동일한 지식을 이용할 경우 노출될 위험이 있다.
* 소유기반 인증
  * 지식기반 인증 대비 보안성이 높으나, 편리성이 낮고 구축이 어려움, OTP, ARS 인증
* 생체기반 인증
  * 편리성이 높으나 생체정보의 훼손, 저장된 생체정보 값이 유출될 경우 교체가 어렵다.

#### 1-4. 보안인증의 핵심기술

* 암호기술
  * 암호화와 복호화
  * 대칭키 : 하나의 키를 이용하여 암호화 복호화 가능
  * 비대칭키 & 공개키 : 암호화와 복호화에 사용되는 키가 서로 다른 한 쌍
* 해시함수와 블록체인
  * 해시함수
    * 입력 메시지의 길이와는 무관하게 출력 메시지는 항상 고정된 길이를 갖는 데이터 변환 함수
    * 단방향으로만 데이터 변환이 가능
    * 일반적인 암복호와는 다르게 키를 사용하지 않음
    * 분산 ID와 같은 사설인증체계에 활용하는 보안인증의 핵심기술 중 하나 
* 블록체인
  * 정보의 신뢰성을 확보하도록 설계된 분산형 장부로서, 생성된 순서대로 블록을 연결하는 과정에서 유효성을 검증한다.

#### 1-5. 정리

1. 핀테크 기업은 관련 법규에 따라 준수해야 하는 경우를 제외하고 금융서비스를 제공함에 있어 보안인증 기술을 적용하는데 제한은 없다.
2. 핀테크 기업이 제공하는 금융서비스의 수준과 편리성 등을 자체적으로 고려하고 판단하여 자율에 따라 보안인증 기술을 도입하여 사용할 수 있다.



## 2. 핀테크 보안인증 종류, 기술 및 현황

#### 2-1. 핀테크 보안인증 서비스 배경 및 혁신

* 전자금융거래
  * 금융회사, 전자금융업자가 전자적 장치를 이용해 금융상품 및 서비스를 제공하고 이용자가 자동화된 방식으로 이용하는 것.
  * 핀테크 기업은 전자금융거래법의 전자금융거래에 해당한다면 전자금융업 등록을 해야한다. 
* 전자금융거래의 종류 (7가지)
  1. 전자화폐의 발행 관리
  2. 선불 전자지급수단의 발행 관리
  3. 직불 전자지급수단의 발행 관리
  4. 전자자금의 이체
  5. 전자지급결제의 대행
  6. 결제대금 예치
  7. 전자고지 결제

#### 2-2. 핀테크 보안인증 시장 현황 및 사례

* 네이버
* 삼성
* 카카오페이 ...

* 카카오뱅크 인증서
* KB모바일인증서
* MyPASS (안랩)
* PASS 인증서 (통신사)
* 웹 표준 기반 간편인증 서비스

#### 2-3. 정리

1. 전자금융거래법의 전자금융 거래란 금융회사 또는 전자금융업자가 전자적 장치를 이용해 금융상품 및 서비스를 제공하고, 고객은 자동화된 방식으로 이용하는 것을 말한다.
2. 핀테크 기업이 금융서비스를 고객에게 직접 제공하려면 전자금융거래법에서 요구하는 전자금융업을 등록해야한다.
3. 전자금융업은 총7가지로 나눌 수 있다.
4. 핀테크 기업은 자율에 따라 보안인증 서비스르 도입하여 사용할 수 있다.



## 3. 핀테크 보안인증 관련 규제와 정책 동향

#### 3-1. 핀테크 보안인증 관련 국내 규제

* 전자금융거래법

  * 핀테크 기업이 고객에게 금융서비스를 제공함에 있어 가장 우선 이해해야 하는 규제

  * 핀테크 기업은 근무환경의 편의성을 추구하면서 망분리 의무에 소홀하지 않도록 주의해야 한다.

  * 전자금융거래법 개정안

    1. 디지털금융에서 경쟁과 혁신 촉진 및 관련 산업의 건전한 육성

       * 지급지시전달업과 종합지급결제사업제 제도 도입

       * 기능별 통합 간소화

       * 진입규제와 후불결제업무 도입

    2. 디지털 금융을 믿고 편리하게 이용할 수 있도록 이용자 보호 강화

       * 이용자예탁금에 대한 별도 관리

       * 영업행위 규율 체계

       * 금융회사와 전자금융업자의 책임 확대

    3. 안전한 전자금융거래의 기반 조성

       * 오픈뱅킹과 전자지급거래청산업의 제도화

       * 비대면거래의 인증수단 접근 매체, 전자적 방식의 신원확인 관련 제도 정비

       * 관리감독체계 마련

    4. 디지털 금융의 혁신과 안정을 위한 법, 제도의 정비 완결

       * 금융보안거버넌스 강화

       * 업무위탁에 관한 규율 체계 정비

       * 보안지원전담기관의 제도화

    5. 현재 전자금융거래 범위의 확대와 디지털금융협의회의 설치 및 운영

* 전자서명법

  * 신원확인
  * 거래내용의 변경확인
  * 거래 사실에 대한 증명 

* 전자문서법

  * 전자문서 및 전자거래의 법률 관계를 명확화하여 안정성과 신뢰성 확보를 위한 법률

#### 3-2. 핀테크 보안인증 관련 해외 규제

* 유럽연합의 eIDAS
  * 특정요건을 만족하는 전자서명을 적격, 고급전자 서명으로 규정하여 민간의 다양한 전자서명기술이 통용가능하도록 한 규제 
* 미국 뉴욕주의 23 NYCRR 500
  * 은행업, 보험업을 인가받은 금융회사가 준수해야 하는 사이버보안 관련 규제
  * 다중인증, 위험기반 인증
  * 다중인증 : 서로 다른 인증 방식을 2가지 이상 적용하여 인증
  * 위험기반 인증 : 위험평가를 기반으로 비공개정보, 정보처리시스템에 권한 없는 사람을 차단
* 유럽연합 PSD2
  * 인증, 강화된 고객인증, 개인화된 보안인증서
* 미국의 NIST
  * 다양한 보안 기술 가이드 라인 배포

#### 3-3. 정리

1. 핀테크 보안 인증 관련 국내 규제로 전자금융거래법, 전자서명법, 전자문서법 등이 있다.
2. 핀테크 보안 인증 관련 해외 규제로 유럽연합의 eIDAS , 미국 뉴욕주의 23 NYCRR 500, 유럽연합 PSD2, 미국의 NIST 등이 있다. 



## 4. 보안인증 관련 고려할 점들

#### 4-1. 기본 원칙

* 기본원칙 
  * 구축 및 도입하려는 보안인증에 대한 보안성 검토 필요

#### 4-2. 전자문서 및 전자서명 사례

* 전자문서의 효력
  * 보증은 그 의사가 보증인의 기명날인 또는 서명이 있는 서면으로 표시되어야 효력이 발생한다.
  * 전자서명, 문서도 모두 효력이 있다.
* 전자서명 방식
  * 청약절차 시작 시 전자서명 1회 실시

#### 4-3. 생체정보 처리방식에 따른 역할과 책임 사례

* 전자금융보조업자의 역할과 책임
  * 핀테그 기업이 전자금융거래를 보조하거나 그 일부를 대행하는 업무를 하는 경우 수행
* 전자금융업자
  * 보조업자에게 손해배상에 대한 구상권을 청구할 수 있다.
* 생체정보 처리에 따른 역할과 책임
  * 서버검증형
    * 지문특징정보를 핀테크 기업 서버에 등록
    * 인증 시 특징정보와 회사 특징정보와 비교
  * 단말검증형
    * 지문정보는 스마트폰에 저장되어 이에 대한 토큰 값 발생
    * 토큰을 비교

#### 4-4. API 및 스크래핑 사례

* 불가
  * 접근매체를 사용 보관함으로써 신용정보를 수집할 수 없다.
  * 고객의 신용정보를 스크래핑 방식으로 수집 불가

#### 4-5. 마이데이터 사례

* 본인인증의 목적
  * 마이데이터 서비스 가이드라인 - 고객이 전송요구 확인용
  * 마이데이터 기술 가이드라인 - 개인신용정보의 소유자임을 제공자가 확인
* 인증 수단
  * 다중 인증
  * 다중요소 공개 키 인증서
  * 비대면 실명확인

#### 4-6. 정리

1. 핀테크 기업은 구축 및 도입하려는 보안인증에 대한 보안성을 충분히 검토해야한다.
2. 보증인이 자기의 영업 또는 사업으로 작성한 보증의 의사가 표시된 전자문서 및 전자서명의 경우 효력이 없다고 해설될 가능성이 없다고 볼 수 있다.
3. 핀테크 기업은 전자금융업자, 전자금융보조업자가 될 수 있으며, 역할에 따라 손해배상을 청구하거나 청구 받을 수 있다.
4. 생체정보 처리방식으로는 서버검증형과 단말검증형으로 구분한다.
5. 스크래핑 사용가능 여부에 대해서는 금융규제당국의 입장을 모니터링해서 이용약관 위반에 따른 피해를 받는 주체가 누구인지를 명확히 해야 한다.
6. 핀테크 기업이 서비스제공자 또는 정보제공자 이냐 정보제공자이기만 하냐에 따라 가이드라인에서 요구하는 기술과 절차가 달라진다.



## 5. 블록체인에 사용된 기술들

#### 5-1. 블록과 체인

* 블록 : 한꺼번에 처리하는 논리적 데이터 단위
  * 10분간 제출된 모든 거래 요청서들을 1MB 범위 내로 한꺼번에 모아 처리하고 그 결과를 저장하는 논리적 단위
  * 제네시스 블록 : 첫 블록
* 체인 : 시간적으로 먼저

#### 5-2. 해시함수와 전자서명

* 블록체인 자체가 해시는 아니다.
* 위변조방지를 위해 블록체인을 이용하는 것이 아니다.
* SHA-256
  * NSA에서 개발한 해시함수
  * 입력길에 상관없이 항상 256bit의 출력을 생성한다.
  * 비트코인은 거의 모든 응용에서 연속 2번 적용한 값을 사
* 머클트리
  * 모든 데이터를 이진트리를 이용해 하나의 대푯값으로 표현
* 위변조 방지
  * 해시함수가 응용된 디지털 서명을 하는 것.
  * 블록체인과 무관하고, 거래 내역 작성 시에 디지털 서명 기술을 활용하는 것이다.

#### 5-3. 작업증명과 해시퍼즐

* 작업증명
  * 악의적 행동에 드는 에너지가 경제적 이익보다 더 크게 만들어 악의적 행동을 억제하려는 철학을 시스템에 구현한 것
  * 결코 작지 않은, 그러나 처리 가능한 수준의 과제를 요구하는 것
  * 해시퍼즐 : 특정 패턴의 해시값을 찾을 때까지 무차별 대입으로 무한 반복 계산하는 극단적 방식

#### 5-4. 비트코인 지갑과 비트코인 주소

* 지갑 소프트웨어
  * 사용자가 이용할 암호화 개인키와 공개키 생성
  * 비트코인 주소 생성
  * 비트코인 거래 요청서 작성 후 블록체인 네트워크에 제출
* 비트코인 주소
  * 개인이 지갑으로 임의 작성한 주소
  * 은행의 계좌번호와 같다
* 익명성
* 암호화폐 중개소
  * 지갑 소프트웨어를 이용해 판매자와 구매자 중개

#### 5-5. 정리

1. 비트코인은 금융기관 자체를 배제하는 방식으로 프라이버시 보호가 되는 거래 시스템으로서 개발되었다.
2. 비트코인의 위변조 방지는 디지털 서명을 이용하고 있을 뿐, 위변조 방지를 위해 블록체인을 사용한다는 것은 주객이 전도된 잘못된 주장이다.
3. 비트코인에 구현된 작업증명은 해시퍼즐로서, 특정 패턴의 해시값을 찾을 때까지 무차별 대입으로 무한 반복 계산하는 극단적 방식이다.
4. 비트코인 주소는 각 개인이 지갑으로 임의 작성한 주소이다.



## 6. 블록체인의 작동원리

#### 6-1. 리더 선출

* 브로드캐스팅
  * 지정한 상대방이 없이 모든 접속자에게 데이터를 전송하는 방식
  * 만든 거래 내역, 전달 받은 데이터 모두 Peer를 통해 브로드캐스팅한다.
* 리더
  * 기록을 담당하는 자
  * 해시퍼즐을 가장 먼저 해결한 노드
  * 수많은 트랜잭션 중 먼저 처리할 것을 임의로 선택할 권리를 먼저 갖고
  * 모두에게 검증
  * 해시값을 통한 전자서명의 무결성 여부 확인
  * 검증을 통과한 블록을 보관하면 블록체인 길이가 증가

#### 6-2. 탈중앙화 합의

* 전체구성원, 현재상태 등의 확인이 불가능한 블록체인
  * 다수의 블록이 동시 생성된 경우 같은 네트워크에 다른 블록체인이 자라게 될 수 있다.
  * 상대방의 블록체인이 규칙을 어긴 경우 승리
  * 상대방의 블록체인이 모두 규칙을 지킨 경우 서로의 길이를 비교
  * 시간이 지나면서 같은 데이터로 맞춰나감
* 더 긴 블록체인 = 더 무거운 블록체인
  * 난이도 만큼의 가중치를 더한다.

#### 6-3. 소프트포크와 하드포크

* 프로그램의 규칙이 다를 경우 문제 발생
  * 하드포크
    * 뮤효 이던 규칙을 유효화
    * 모든 구성원이 새 소프트웨어로 업그레이드 해야 해결
    * 미 해결시 서로 다른 블록체인으로 분리 (영원)
  * 소프트 포크
    * 유효 이던 규칙을 무효화
    * 별도의 업그레이드 없이 더 긴 블록체인을 만들면 강제로 합의
* 포크
  * 블록체인의 유지보수가 어렵다는 것을 보여주는 예
  * 계획되기 어려움

#### 6-4. 블록체인의 변형

* 정적 -> 동적
* HYPERLEDGER
  * 블록체인 무용론 속에서 상업적 활용 가능한 블록체인을 개발할 것이다.
  * 사전에 허가받은 노드만 참여시킬 것이다.
* 비트코인과 유사한 점을 찾기 힘듦
* 프라이빗, 컨소시엄 블록체인이라는 신조어를 사용해 허가형 블록체인이라 부른다.

#### 6-5. 정리

1. 블록체인은 제 3자를 배제했기 때문에, 새로운 작동 방식이 필요하다.
2. 블록체인 네트워크의 모든 노드는 브로드캐스팅을 통해 항상 동일한 데이터를 수령하게 되고, 어느 한 노드도 더 많은 데이터를 가지지 않는다.
3. 블록체인에서 다수의 블록이 동시에 생성된 경우, 각 노드가 서로 다른 블록을 저장함으로써 같은 네트워크에 다른 블록체인이 자라게 될 수 있다.
4. 서로 다른 두 블록체인이 충돌할 때 더 긴 쪽으로 통일해 나가는 규칙을 탈중앙화 합의라고 부른다.
5. 블록체인은 각자가 다운로드 받은 클라이언트 프로그램을 이용하여 접속하기 때문에 서로 다른 버전을 사용할 가능성이 상존한다.
6. 비트코인의 블록에는 정적인 거래내역만 저장되므로 그 외의 용도로는 쓸 수 없어 많은 변형이 생긴다.



## 7. 블록체인과 가상자산

#### 7-1. 암호화폐와 토큰

* 네트워크 참여자의 구성
  * 생성된 암호화폐가 원활하게 운영될 수 있는 생태계
  * 웹사이트 구축의 난이도 < 방문자 구성의 난이도
  * 별도의 네트워크를 구축하지 않아도 기존 암호화폐와 같은 기능 구현
* ERC-20
  * 이더리움에서 만든 암호화폐 발행 프로그램의 표준
  * 심각한 결함 존재
* ERC-721
  * NFT
  * 코인에 식별자를 부여하여 서로 식별 가능
  * 식별이 가능해진 각 코인에 인위적으로 의미 부여하여 중개소에서 거래
  * 자동으로 권리 부여하지는 않는다.
* 암호화폐
  * 자체 네트워크를 구축
* 토큰
  * 자체 네트워크 없이 프로그램으로만 작동

#### 7-2. FATF와 가상자산

* 가상자산
  * FATF에서 암호화폐 대신 사용하도록 추천한 단어
* FATF
  * G7에서 자금세탁의 방지를 국제 협력을 통해 수행하자는 차원에서 결성한 국제기구

#### 7-3. 자산유동화 토큰

* 자산유동화
  * 유동화증권의 발행, 운용, 처분에 의한 수익이나 차입금 등으로 원리금 또는 배당금을 지급하는 일련의 행위
* 자산유동화 토큰 사용 주의사항
  1. 토큰에는 소유에 대한 어떤 권리도 기록할 수 없다.
  2. 토큰과 기초 자산에 대한 이원화된 관리가 필요하다.
  3. 토큰을 발행한 자가 기초 자산을 관리하는 경우 투자자 보호가 크게 약화될 수 있다.
  4. 암호화 키 분실 시 복구 방법이 없다.
  5. 임의로 토큰 이전 시 기초 자산과 매칭이 불가능 하다.

#### 7-4. 다크코인과 자금세탁

* 다크코인류
  * 기존 코인에 자금세탁기능을 의도적으로 추가한 것

#### 7-5. 정리

1. 암호화페를 만든다는 것은 디지털 목적물을 주고 받는 내역을 기록할 수 있는 네트워크 프로그램을 만든다는 의미이다.
2. 암호화폐 제작의 난점은 생성된 암호화폐가 원활하게 운영될 수 있는 생태계인 네트워크 참여자를 구성하는 일이다.
3. 가상자산은 FATF에서 각국에 암호화페 대신 사용하도록 추천한 단어이다 (자금세탁 방지)
4. 기존의 코인에 자금세탁 기능을 의도적으로 추가한 것을 다크코인류 라고 한다.



## 8. 블록체인 정책 및 산업 동향

#### 8-1. 블록체인과 핀테크

* 가상자산 관련 국제적 규정의 정비
* 새로운 형태의 유관 기술 시장 생성
* 블록체인 사업의 핵심
  * 안전한 분산 저장
  * 정보 공유
  * 컨소시엄을 이룬 회사 간의 고도 협의
* 핵심 기술 기반에 집중해 디지털 금융 시장은 확대

#### 8-2. 가상자산 시장

* 현재 의미 없음

#### 8-3. 블록체인 사례 분석

* 뱅크사인
  * 기존 공인인증서를 대신해 범 은행권에서 사용할 수 있는 새로운 공용 인증 서비스
  * 다양한 대체 수단이 존재
  * 컨소시엄 네트워크 프로젝트라는 것이 기술적으로 더 적절한 용어
* 실증사업 전 선행되어야 하는 과정
  * 정확한 명의
  * 육성해야 할 기술을 구체적으로 특정화해야 한다.

#### 8-4. 정리

1. 가상자산과 관련한 국제적인 규정의 정비와 함께 다양하고 새로운 형태의 유관 기술 시장이 생성될 것으로 예상된다.
2. 가상자산의 중개업은 대부분 전문중개업체에 의해 이루어지고 있으나 최근에는 다양한 업종에서 이 시장을 넘보고 있다.
3. 블록체인이라는 단어에 매몰되지 말고 사람들이 원하는 니즈라는 관점과 그를 해결해 줄 수 있는 구체적인 기술에 보다 집중해야 할 필요가 있다.
4. 기술은 그 자체가 목적이 아니라 효용을 위한 수단일 뿐이다. 수단.



## 9. 레그테크 적용 방식

#### 9-1. 수출가격을 실제보다 높게 조작한 허위 수출채권 이용

* 

#### 9-2. 거짓으로 작성한 수입 거래 서류를 이용한 신용장 결제 대금 사기

* 수입 가격을 고가로 조작하여 수입신용장을 개설하고 은행에서 대신 지급한 신용장 금액을 해외공모자와 나눔

#### 9-3. 무역기반 자금세탁 범죄 피해 방지

* 정상가격 알아보기
* 거래가 빈번한 기업체, 관련 협회들은 레그테그를 활용하여 자동 필터링 시스템 구축

#### 9-4. 시중 은행의 TBML 적용 사례

* 무역기반 자금세탁
  * 무역 거래를 기반으로 하는 재재위험거래
  * 무역 거래를 가장한 사기 거래
* 트레이드 와치
  * 무역 위험 거래 관리 자동화 시스템
* 하나은행은 맞춤형 위험 조기경보 시스템 구현

#### 9-5. 정리

1. 무역기반 자금세탁방지는 불법적 자금원천을 합법화하기 위하여 정상적인 무역거래로 가장하여 범죄행위를 위장하고 관련 자금을 세탁하는 행위를 말한다.
2. 무역기반 자금세탁방지 유형에는 수출가격을 실제보다 높게 조작한 허위 수출채권 이용과 거짓으로 작성한 수입 거래 서류를 이용한 신용장 결제 대금 사기가 대표적이다.
3. 무역기방 자금세탁과 관련한 피해를 보지 않으려면 관련 사이트를 통해 상품의 가격이 정상적인지 알아볼 필요가 있다.



## 10. 레그테크와 국제자금세탁방지기구

* 트레블룰 사용 권고
* 블록체인을 사용한 가상자산의 추적
  * 익명성 때문에 힘들다.

#### 10-1. 일방향 전신송금 방식

* 

#### 10-2. 양방향 전신송금 방식

* 

#### 10-3. 대한민국의 트래블룰 준비사항

* 가상자산의 불법적 사용을 막기위한 트래블룰

#### 10-4. 정리

1. 가상자산이 나쁜 곳에 사용되는 것을 방지하기 위하여 국제자금세탁방지기구는 트래블룰 사용을 권고하고 있다.
2. 트래블룰 시스템은 일방향 전신송금방식과 양방향 전신송금 방식으로 나눌 수 있다.
3. 양방향 전신송금방식은 비인가 거래소와의 전신송금 방식, 인가된 거래소 간의 전신송금방식, 제 3의 플랫폼 전신송금 방식으로 나눌 수 있다.
4. 트래블룰을 준수할 수 있도록 준비해야 한다.





